# INTENT.md ‚Äî DSA Visualizer

*Machine-readable objectives for autonomous iteration*

## Outcome
Interactive learning platform for data structures and algorithms with rich visualizations, comprehensive tests, and AI tutoring.

## Current Phase
`development` ‚Üí targeting feature completeness

## Constraints
```yaml
risk: low             # Educational project - safe to iterate
breaking_changes: ask # Major architectural changes need review
deployment: railway   # Deployed via Railway (Docker)
testing: strict       # 95%+ coverage target
```

## Success Criteria

### Code Quality (auto-enforceable)
- [ ] `cd web && bun run check` ‚Äî 0 errors
- [ ] `cd api && uv run ruff check` ‚Äî 0 errors
- [ ] `PYTHONPATH=/home/jhuth/dev/dsa uv run pytest algorithms/ -v` ‚Äî all tests passing
- [ ] Docker build succeeds

### Functional (manual verification)
- [ ] Algorithm visualizations render correctly
- [ ] Playback controls work (first/prev/next/last)
- [ ] Code viewer highlights current line
- [ ] Category navigation works
- [ ] Learning components display properly

### Educational Quality
- [ ] Complexity analysis is accurate
- [ ] Edge cases are documented
- [ ] Test coverage demonstrates correctness
- [ ] Code examples are clear

## Current Objectives

### Priority 1: Algorithm Coverage
1. Verify all sorting algorithms work (many exist, need testing)
2. Add missing graph algorithms
3. Add missing tree algorithms
4. Expand dynamic programming examples

### Priority 2: UI/UX Polish
1. Integrate learning components into exhibit pages
2. Add global search dialog (Cmd+K)
3. Improve mobile touch controls
4. Add breadcrumb navigation

### Priority 3: AI Integration
1. Add AI chat tutor (Anthropic Sonnet)
2. Add algorithm recommendations
3. Add hint system for learning
4. Add difficulty progression

## Autonomous Action Policy

| Action | Policy |
|--------|--------|
| Lint fixes | ‚úÖ auto-merge |
| Type fixes | ‚úÖ auto-merge |
| Test additions | ‚úÖ auto-merge (if tests pass) |
| Algorithm additions | ‚úÖ auto-merge (if comprehensive tests included) |
| Dependency updates (patch) | ‚úÖ auto-merge (if tests pass) |
| UI component additions | ‚úÖ auto-merge (if no breaking changes) |
| Documentation improvements | ‚úÖ auto-merge |
| Refactoring (no behavior change) | ‚úÖ auto-merge (if tests pass) |
| New features | ‚ö†Ô∏è create PR, await review |
| Architecture changes | ‚ùå create issue, await approval |

## Verification Protocol

**Before merging:**
1. Run all tests (`bun test` at root)
2. Run linting (`bun lint`)
3. Verify algorithm correctness (test suite)
4. Check visualizations render (manual spot check)
5. Verify Docker build (`docker-compose build`)

**Report format:**
```
‚úÖ **DSA ‚Äî Auto-merged**
PR: [link]
Change: [description]
Tests: ‚úÖ All passing
Status: ‚úÖ MERGED (safe change per policy)
```

vs

```
üîÑ **DSA ‚Äî PR Awaiting Review**
PR: [link]
Change: [description]
Feature: [new visualization / architecture change]
Status: ‚è≥ AWAITING YOUR REVIEW
```

## Health Signals

```bash
# Quick health check
bun test && bun lint

# Algorithm tests
PYTHONPATH=/home/jhuth/dev/dsa uv run pytest algorithms/ -v

# Frontend tests
cd web && bun test

# Backend health
cd api && uv run uvicorn app.main:app --host 0.0.0.0 --port 5000
```

## Canonical Skills Reference

Use these skills from `~/dev/dotfiles/ai/claude/skills/`:

| Task | Skill | Usage |
|------|-------|-------|
| Create commits | `commit` | Conventional commit format |
| Create PRs | `pr` | Conflict checking, human action items |
| Merge PRs | `ship` | Clean merge + branch cleanup |
| Fix tests | `test` | Run and fix test failures |
| Verify changes | `verify` | Auto-detect checks |
| Health checks | `project-healthcheck` | Uses registry.yaml |

## Improvement Backlog
*Auto-generated by improvement scans, prioritized by phase*

<!-- AUTOGEN:BACKLOG -->
- [x] Fix test config (vitest via bun run test)
- [x] Fix lint errors (downgrade non-critical a11y rules to warnings)
- [x] Add BFS/DFS comprehensive tests (45 tests)
- [x] Fix type safety (AlgorithmStep interface, remove any casts)
- [x] Fix a11y issues (button types, label associations)
- [x] Associate form labels with inputs across all algorithm pages
- [ ] Add tests for Dijkstra algorithm
- [ ] Add tests for dynamic programming algorithms (fibonacci, knapsack, lcs)
- [ ] Add tests for tree algorithms (BST, traversals)
- [ ] Add tests for search algorithms (binary, linear)
- [ ] Integrate learning components into exhibit pages
- [ ] Add global search dialog (Cmd+K)
- [ ] Add breadcrumb navigation
- [ ] Improve mobile touch controls
- [ ] Fix start==target handling in BFS/DFS (optimization)
<!-- /AUTOGEN:BACKLOG -->

---
*Last scanned: 2026-02-20*
*Last improved: 2026-02-20 (label/control a11y associations, biome config updates)*
